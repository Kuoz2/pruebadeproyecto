<ng-template #content9 let-modal9>
 
                <div class="modal-header ">
                    <h5 class="modal-title f-w-600" id="exampleModalLabel2">Revision del producto a ingresar</h5>
                    <button type="button" class="close" aria-label="Close"
                            (click)="modal9.dismiss('Cross click')">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="Frmproducto" (ngSubmit)="Guardaregistro(form)" #form="ngForm">
            
                        <ul class="list-group">
                            <li class="list-group-item">{{Frmproducto.value.pdescripcion}}</li>
                            <li class="list-group-item">{{Frmproducto.value.pcodigo}}</li>
                            <li class="list-group-item">{{Frmproducto.value.pvalor}}</li>
                            <li class="list-group-item">{{Frmproducto.value.date_expiration.fecha_vencimiento}}</li>
                            <li class="list-group-item">{{Frmproducto.value.stock.pstock}}</li>
                            <li class="list-group-item">{{Frmproducto.value.stock.stock_lost}}</li>
                          </ul>
                        <div class="btn-group row " role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-primary" (click)="modal9.dismiss('Cross click'); open9(content8)">Atras</button>
                            <button type="submit" class="btn btn-primary"  > Guardar </button>
                          </div>  
                          <hr>
                          <div class="alert alert-success" role="alert">
                            <h4 class="alert-heading">Información.</h4>
                            <p>Aquí se muestra todos los datos del producto antes de ser guardados, revise bien la información antes.</p>
                        </div>
                    </form>
                </div>
       
 
</ng-template>

<ng-template #content8 let-modal8>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Proveedor</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal8.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="Frmproducto">

            <div class="form-group row">
                <label for="proveedor" class="col-xl-3 col-sm-4 mb-0">Proveedor:</label>
                <select id="proveedor" class="form-control digits col-xl-8 col-sm-7" formControlName="provider_id" required>
                    <option [ngValue]="p" *ngFor="let p of proveedor" [selected]="proveedor[p.nombre_provider]">{{p.nombre_provider}}</option>
                </select>
            </div>  
            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal8.dismiss('Cross click'); open7(content7)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal8.dismiss('Cross click'); open9(content9)"> Siguiente </button>
              </div>  
              <hr>
             
        </form>
    </div>
</ng-template>

<ng-template #content7 let-modal7>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Fecha de estimada para la venta</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal7.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="Frmproducto">

            <div class="form-group row" formGroupName="date_expiration">
                <label for="fecha" class="col-xl-3 col-sm-4 mb-0">Fecha estimación:</label>
                <input   autocomplete="off"
                       class="form-control col-xl-8 col-sm-7"  formControlName="fecha_vencimiento" id="fecha"
                       min="2000/01/01" type="date" >
            </div>
            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal7.dismiss('Cross click'); open6(content6)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal7.dismiss('Cross click'); open8(content8)"> Siguiente </button>
              </div> 
              
              <hr>
            <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">Información.</h4>
                <p>Fecha de estimación es para poder tener un seguimiento estrategico, del movimiento del producto y poder controlar su venta.</p>
                <hr>
                <p class="mb-0">Poder tener un control de su salida y cantidad de ventas se puede realizar estrategias de insumos y no acaparar productos no necesarios.</p>
                
    
            </div>
        </form>
    </div>
</ng-template>

<ng-template #content6 let-modal6>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Detalle del produto</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal6.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="Frmproducto">

            <div class="form-group row">
                <label  for="detalle"class="col-xl-3 col-sm-4">Agregar detalle :</label>
                <div  class="col-xl-8 col-sm-7 pl-0 description-sm">
                    <label for="editor1"></label>
                    <textarea type="text" id="detalle" language="es" formControlName="pdetalle" rows="5" cols="46"></textarea>
                    </div>
            </div>
            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal6.dismiss('Cross click'); open5(content5)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal6.dismiss('Cross click'); open7(content7)"> Siguiente </button>
              </div> 
              <hr> 
              <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">Información.</h4>
                <p>Este paso no es obligatorio pero es necesario para conocer mas del producto.</p>             
    
            </div>
        </form>
    </div>
</ng-template>

<ng-template #content5 let-modal5>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Cantidad de perdidas del producto</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal5.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="Frmproducto">

            <div class="form-group row" formGroupName="stock">
                <label for="perdidas" class="col-xl-3 col-sm-4 mb-0">Perdida :</label>
                <div class="qty-box1">
                    <div class="input-group">
                        <input class="touchspin1 text-center" id="perdidas" name="perdidas" formControlName="stock_lost" 
                        type="number" [value]="0">

                    </div>
                </div>
            </div>

            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal5.dismiss('Cross click'); open4(content3)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal5.dismiss('Cross click'); open6(content6)"> Siguiente </button>
              </div>  
            <hr>
            <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">Información.</h4>
                <p>El primer stock del producto nuevo es ingresado aquí junto a su perdida si es que hay. Cuando ya tiene registrado el producto y desea ingresar un nuevo stock o cambiar la fecha debe hacerlo en inventario precionando dos veces.</p>
                <hr>
                <p class="mb-0">Solamente debe ingresar el stock si es un producto nuevo.</p>
                
    
            </div>
        </form>
    </div>
</ng-template>


<ng-template #content4 let-modal4>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Ingreso de stock</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal4.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="Frmproducto">

            <div class="form-group row" formGroupName="stock">
                <label for="stock" class="col-xl-3 col-sm-4 mb-0">Ingresar stock :</label>
                <div class="qty-box1">
                    <div class="input-group">
                        <input class="touchspin1 text-center" id="stock" name="counter" formControlName="pstock" type="number" required>
                        
                    </div>
                </div>
            </div>    
                    
            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal4.dismiss('Cross click'); open3(content3)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal4.dismiss('Cross click'); open5(content5)"> Siguiente </button>
              </div>  
            <hr>
            <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">Información.</h4>
                <p>El primer stock del producto nuevo es ingresado aquí junto a su perdida si es que hay. Cuando ya tiene registrado el producto y desea ingresar un nuevo stock o cambiar la fecha debe hacerlo en inventario precionando dos veces.</p>
                <hr>
                <p class="mb-0">Solamente debe ingresar el stock si es un producto nuevo.</p>
                
    
            </div>
        </form>
    </div>
</ng-template>

<ng-template #content3 let-modal3>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Ingresar precio e IVA</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal3.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="Frmproducto">
                <div class="form-group row">
                    <label for="precio_provider" class="col-xl-3 col-sm-4 mb-0">Precio costo</label>
                    <input type="number" id="precio_provider" class="form-control col-xl-4 col-sm-7"  formControlName="precio_provider" placeholder="ej: 3000" (change)="Obutildiad(Frmproducto)" >
                </div>
                <div class="form-group row">
                    <label for="margen" class="col-xl-3 col-sm-4 mb-0">Margen de utilidad</label>
                    <input type="number" id="margen" class="form-control col-xl-4 col-sm-7" formControlName="margen" placeholder="ej: 25" (change)="Obutildiad(Frmproducto)" >
                </div>

                <div class="form-group row">
                    <label for="utilidad" class="col-xl-3 col-sm-4 mb-0">Utilidad</label>
                    <input type="number" id="utilidad" class="form-control col-xl-4 col-sm-7" formControlName="utilidad" >
                </div>
            <div class="form-group row">
                <label for="preciov" class="col-xl-3 col-sm-4 mb-0">Precio neto</label>
                <input type="number" id="preciov" formControlName="pvalor" (change)="datos(pvalor)" class="form-control col-xl-4 col-sm-7"   >

                <select class="form-control col-xl-4 col-sm-7" formControlName="tax_id" id="tax_id"  (change)="calImp(tax_id, pvalor)" >
                    <option value="" selected></option>
                    <option *ngFor="let im of (immp | async)" [ngValue]="im">{{im.tnombre}} </option>
                </select>

                <div *ngIf="pvalor.touched && pvalor.errors?.required"
                    class="text text-danger">
                    Precio del producto es requerido
                </div>
            </div>

            <div class="form-group row">
                <label for="iva2" class="col-xl-3 col-sm-4 mb-0">Impuesto:</label>
                <input type="text" [(ngModel)]="prdiva" class="form-control col-xl-8 col-sm-7" id="iva2"  formControlName="piva" disabled >
            </div>

            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal3.dismiss('Cross click'); open2(content2)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal3.dismiss('Cross click'); open4(content4)"> Siguiente </button>
              </div>  

              <hr>
        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Información.</h4>
            <p>El impuesto debe ser establecido antes, en el formulario ingresar impuesto</p>
            <hr>
          </div>
        </form>
    </div>
</ng-template>

<ng-template #content2 let-modal2>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Código del producto</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal2.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row lign-items-start" >
        <form [formGroup]="Frmproducto">

            <div class="form-group row">
                <label for="codigo" class="col-xl-3 col-sm-4 mb-0">Código de barra:</label>
                <input class="form-control col-xl-8 col-sm-7" formControlName="pcodigo" name="codigo" id="codigo" (dbclick)="InCode()"
                    type="number" autocomplete="off" required >
                    <div *ngIf="pcodigo.touched && pcodigo.errors?.required"
                    class="text text-danger">
                    El código del producto es obligatorio.
                </div>
                    </div>
            <div class="btn-group row " role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary" (click)="modal2.dismiss('Cross click'); openModal(content1)">Atras</button>
                <button type="button" class="btn btn-primary" (click)="modal2.dismiss('Cross click'); open3(content3)"> Siguiente </button>
              </div>  
            <hr>
        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Información.</h4>
            <p>El código de barra puede ser ingresado de dos formas. Mediante escritura manual o bien mediante la lectura del codigo, utilizando la camara incorporada en la maquina </p>
            <hr>
            <p class="mb-0">De forma manual: Debe digitar los numeros que se encuentran debajo del codigo de barra.</p>
            <p class="mb-0">Lector de código: Precione dos veces el cuadro superior, enfoque bien el código del producto asta que este se marque.</p>

          </div>
        </form>
        
        </div>
        </div>
    </div>

</ng-template>
<ng-template #content1 let-modal1  >
    
                <div class="modal-header ">
                    <h5 class="modal-title f-w-600" id="exampleModalLabel2">Producto</h5>
                    <button type="button" class="close" aria-label="Close"
                            (click)="modal1.dismiss('Cross click')">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>                   
                <div class="modal-body">
                    <div class="container">
                        <div class="row lign-items-start" >
                  <form [formGroup]="Frmproducto" >
                            <div class="form-group row">
                                <label for="nombreproducto" class="col-xl-3 col-sm-4 mb-0">Nombre:</label>
                                <input class="form-control col-xl-8 col-sm-7" formControlName = "pdescripcion" name="nombre" id="nombreproducto" 
                                    type="text" required >
                                    <div *ngIf="pdescripcion.touched && pdescripcion.errors?.required"
                                    class="text text-danger">
                                    El nombre no puede estar vacio.
                                </div>
                              </div>
                            <div class="form-group row">
                                <label for="marca" class="col-xl-3 col-sm-4 mb-0">Marca: </label>
                                  <select class="form-control col-xl-8 col-sm-7" name="marca" formControlName="brand_id" id="marca">
                                    <option value="0" selected></option>
                                                        <option [ngValue]="y" *ngFor="let y of marcas" >{{y.bnombre}}</option>
                                </select>
                         
                            </div>
                            <div class="form-group row">
                                <label for="Categoria" class="col-xl-3 col-sm-4 mb-0">Categoría: </label>
                                  <select class="form-control col-xl-8 col-sm-7" name="categoria" formControlName="category_id" id="Categoria">
                                    <option value="0" selected></option>
                                                        <option [ngValue]="i" *ngFor="let i of categorias" >{{i.cnombre}}</option>
                                </select>
                         
                            </div>
                              <div class="btn-group row " role="group" aria-label="Basic example">
                                <button type="button" class="btn btn-primary" >cerrar</button>
                                <button type="button" class="btn btn-primary" (click)="modal1.dismiss('Cross click'); open2(content2)"> Siguiente </button>
                            
                              </div>  
                              <hr>          
        
                                
                    </form>
                   
                </div>
                    </div>
                    </div>
                
</ng-template>
<ng-template #content0 let-modal0>
    <div class="modal-header">
        <h5 class="modal-title f-w-600" id="exampleModalLabel2">Realizar venta rapida</h5>
        <button type="button" class="close" aria-label="Close"
                (click)="modal0.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="ventarapida" (ngSubmit)="realizarventa()" >
        <div class="form">
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="radiobutton1" name="dato1" value="option1" (click)="checkBoxk()" checked>
                <label class="form-check-label" for="radiobutton1"><p>Generar automáticamente</p></label>
            </div>
           
            <div class="form-group">
                <label for="manualcode" id="manualcode1" hidden>Código de forma manual</label>
                <input class="form-control" formControlName="codigo_producto" id="manualcode" type="number" hidden>
                <label for="nombre_product">Nombre producto</label>
                <input class="form-control" formControlName="nombre_product" id="nombre_product" type="text" required>
                <label for="cantidad" class="mb-1">Cantidad a vender :</label>
                <input class="form-control" formControlName="cantidad" id="cantidad" type="number" required>
                <label for="precio" class="mb-1">Precio del producto :</label>
                <input class="form-control" formControlName="precio" id="precio" type="number" required>            
                <label for="cantidad" class="mb-1">Forma de pago :</label>
                <select class="form-control" formControlName="medio_pago" >
                <option value="" selected></option>
                <option  *ngFor="let i of mediopago" [ngValue]="i">{{i}}</option>
                </select>
            </div>

        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" >Guardar</button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal"
                    (click)="modal0.dismiss('Cross click')">Cerrar</button>
        </div>
    </form>
</div>
</ng-template>
  <div class="row">
    <div class="card">
      <div class="col">
          <div class="card-header" style="border: solid;" routerLink="/products/physical/marca">
              <img class="imagen-marca card-img-top" src="../../../../assets/images/regostered.png">
          </div>
        <div class="card-body">
          <h1 class="titulos-card  card-title" >Marca</h1>
        </div>
    </div>
</div>
<div class="card">
  <div class="col">
      <div class="card-header" style="border: solid;" routerLink="/products/physical/category">
          <img class="imagen-categoria" src="../../../../assets/images/etiqueta-categoria-920x515.jpg">
      </div>
      <div class="card-body">
          <h1 class="titulos-card card-title "> Categoría</h1>
      </div>
</div>
</div>
<div class="card">
  <div class="col">
      <div class="card-header" style="border: solid;" routerLink="/products/physical/lista-editar">
          <img class="imagen-inventario" src="../../../../assets/images/box-gb3cb967f9_1280.png">
      </div>
      <div class="card-body">
          <h1 class="titulos-card  card-title">Inventario</h1>
      </div>
  </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" routerLink="/pages/app-pago">
          <img class="imagen-inventario" src="../../../../assets/images/carritocompra.png" alt="">
        </div>
        <div class="card-body">
          <h1 class="titulos-card  card-title">Ventas</h1>
        </div>
    </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" (click)="open0(content0)">
          <img class="imagen-inventario" src="../../../../assets/images/ventarapida.png" alt="">
        </div>
        <div class="card-body">
            <h1 class="titulos-card  card-title">Venta rápida</h1>
        </div>
    </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" routerLink="/pages/lista-pago">
          <img class="imagen-inventario" src="../../../../assets/images/misventas.png" alt="">
        </div>
        <div class="card-body">
          <h1 class="titulos-card  card-title">Mis ventas</h1>
        </div>
    </div>
</div>
</div>

<div class="row">
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" routerLink="/products/cotizacion">
      <img class="imagen-inventario" src="../../../../assets/images/cotizacion.png" alt="">
      </div>
      <div class="card-body">
          <h1 class="titulos-card  card-title">Cotizar</h1>
      </div>
    </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;">
      <img class="imagen-inventario" src="../../../../assets/images/impuesto.png" alt="">
      </div>
      <div class="card-body">
          <h1 class="titulos-card  card-title">Impuesto</h1>
      </div>
    </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" (click)="openModal(content1)">
      <img class="imagen-inventario" src="../../../../assets/images/ingresandoproducto.jpg" alt="">
      </div>
      <div class="card-body">
          <h1 class="titulos-card  card-title">Ingresar producto</h1>
      </div>
    </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" routerLink="/products/physical/proveedor">
      <img class="imagen-inventario" src="../../../../assets/images/proveedor.png" alt="">
      </div>
      <div class="card-body">
          <h1 class="titulos-card  card-title">Proveedor</h1>
      </div>
    </div>
</div>
<div class="card">
    <div class="col">
        <div class="card-header" style="border: solid;" routerLink="/products/physical/vencimiento">
      <img class="imagen-inventario" src="../../../../assets/images/vencimiento.png" alt="">
      </div>
      <div class="card-body">
          <h1 class="titulos-card  card-title">Vencimiento</h1>
      </div>
    </div>
</div>
</div>