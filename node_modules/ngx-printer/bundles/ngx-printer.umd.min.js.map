{"version":3,"sources":["../../../projects/ngx-printer/src/lib/ngx-print-marker-position.enum.ts","../../../projects/ngx-printer/src/lib/ngx-printer.component.ts","../../../projects/ngx-printer/src/lib/print-service-config.ts","../../../projects/ngx-printer/src/lib/ngx-printer.service.ts","../../../projects/ngx-printer/src/lib/print-item.ts","../../../projects/ngx-printer/src/lib/print-item.directive.ts","../../../projects/ngx-printer/src/lib/print-item-button.directive.ts","../../../projects/ngx-printer/src/lib/print-item-marker.directive.ts","../../../projects/ngx-printer/src/lib/ngx-printer.module.ts"],"names":["ngxPrintMarkerPosition","NgxPrinterComponent","elementRef","renderer","this","_renderClass","_imgSrc","completed","EventEmitter","Object","defineProperty","prototype","value","setCustomClass","addImage","ngOnInit","natElement","nativeElement","removeClass","addClass","source","_this","newImgElement","createElement","setAttribute","listen","evt","console","log","emit","appendChild","Component","args","selector","template","ElementRef","Renderer2","Output","printOpenWindow","timeToWaitRender","appRootName","markerPosition","Topleft","printPreviewOnly","NgxPrinterService","config","resolver","injector","printWindowOpen","BehaviorSubject","_printItems","$printItems","asObservable","renderClass","appRootDislaySetting","$printWindowOpen","eventadded","setRootConfigOptions","printDiv","divID","divToPrint","document","getElementById","print","printByClassName","className","elementToPrint","getElementsByClassName","length","printAngular","contentToPrint","context","nativeEl","createComponent","printImg","imgSrc","compRef","openNewWindow","instance","subscribe","val","hostView","detectChanges","location","printHTMLElement","contentToRender","componentRef","factory","resolveComponentFactory","undefined","ngContent","resolveNgContent","create","printContent","printContentClone","importNode","printInNewWindow","openNgxPrinter","body","getAppRoot","appRoot","style","display","printCurrentWindow","printWindow","window","open","title","write","printWindowDoc","copyCss","margin","close","setTimeout","printTabWindow","links","querySelectorAll","styles","targetHead","getElementsByTagName","forEach","link","registerPrintEvent","next","focus","execCommand","printWithOpenInNewWindow","that","name","addEventListener","cleanUp","removeChild","content","createTextNode","TemplateRef","viewRef","createEmbeddedView","rootNodes","HTMLElement","changeDetectorRef","addPrintItem","newPrintItem","tmpItems","getValue","push","removePrintItem","idOfItemToRemove","newIitems","filter","item","id","getPrintItem","find","printPrintItem","printItemToPrint","printPrintItems","printItemsToPrint","newDiv","classList","add","flexDirection","element","cloneNode","Injectable","providedIn","PrintServiceConfig","decorators","type","Optional","ComponentFactoryResolver","Injector","PrintItemDirective","el","printerService","tmpPrintItem","PrintItem","ngOnDestroy","Directive","Input","PrintItemButtonDirective","printItemId","checkInputs","prinPrintItem","itemToPrint","PrintItemMarkerDirective","renderer2","customClass","directPrint","imgPosition","backgroundImage","imgMainStyles","background-color","height","width","position","cursor","imgPositionTopLeft","left","top","imgPositionTopRight","right","imgPositionBottomLeft","bottom","imgPositionBottomRight","printClicked","newIndicator","addIndicatorDiv","setStyle","setCss","keys","setProperty","setPosition","imgUrl","TopRight","BottomLeft","BottomRight","NgxPrinterModule","forRoot","ngModule","providers","provide","useValue","NgModule","declarations","imports","exports","entryComponents"],"mappings":"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","sourcesContent":["export enum ngxPrintMarkerPosition {\r\n    Topleft,\r\n    TopRight,\r\n    BottomLeft,\r\n    BottomRight\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Renderer2,\r\n  ElementRef,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\n/**\r\n * Component used to render content when printed to current window\r\n */\r\n@Component({\r\n  selector: 'ngx-printer',\r\n  template: `\r\n    <ng-content></ng-content>\r\n  `,\r\n  styleUrls: ['./ngx-printer.component.css']\r\n})\r\nexport class NgxPrinterComponent implements OnInit {\r\n\r\n  private _renderClass = 'default';\r\n  public get renderClass() {\r\n    return this._renderClass;\r\n  }\r\n  public set renderClass(value) {\r\n    this._renderClass = value;\r\n    this.setCustomClass();\r\n  }\r\n\r\n  /**\r\n   * Display single image\r\n   */\r\n  private _imgSrc = 'default';\r\n  public get imgSrc() {\r\n    return this._imgSrc;\r\n  }\r\n  public set imgSrc(value) {\r\n    this._imgSrc = value;\r\n    this.addImage(this._imgSrc);\r\n  }\r\n\r\n  @Output() completed = new EventEmitter<boolean>();\r\n\r\n  constructor(private elementRef: ElementRef, private renderer: Renderer2) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  /**\r\n   * Attach custom class to element\r\n   */\r\n  private setCustomClass() {\r\n    const natElement = this.elementRef.nativeElement;\r\n\r\n    this.renderer.removeClass(natElement, 'default');\r\n    this.renderer.addClass(natElement, this._renderClass);\r\n  }\r\n\r\n  /**\r\n   * Add custom image\r\n   * @param source \r\n   */\r\n  private addImage(source: string) {\r\n    const natElement = this.elementRef.nativeElement;\r\n\r\n    const newImgElement = this.renderer.createElement('img');\r\n    this.renderer.setAttribute(newImgElement, 'src', source);\r\n\r\n    this.renderer.listen(newImgElement, 'load', (evt) => {\r\n      console.log('loading completed', evt);\r\n      this.completed.emit(true);\r\n    });\r\n\r\n    this.renderer.appendChild(natElement, newImgElement);\r\n  }\r\n}\r\n","import { ngxPrintMarkerPosition } from './ngx-print-marker-position.enum';\r\n/**\r\n * Config for service - used in forRoot\r\n */\r\nexport class PrintServiceConfig {\r\n  /** Print in a new window or not */\r\n  printOpenWindow ? = true;\r\n\r\n  /** Wait time before opening print dialog */\r\n  timeToWaitRender ? = 200;\r\n\r\n  /** Class name to be used when printing in current window */\r\n  renderClass?: string;\r\n\r\n  /* Name ofapp route component - usally 'app-root' used by print to same window */\r\n  appRootName ?  = 'app-root';\r\n\r\n  /* Default postion for image used in directive printerMarker */\r\n  markerPosition ? = ngxPrintMarkerPosition.Topleft;\r\n\r\n  /* Just show preview without fireing the print command - default is false */\r\n  printPreviewOnly ? = false;\r\n}\r\n","import { ngxPrintMarkerPosition } from './ngx-print-marker-position.enum';\r\nimport { PrintItem } from './print-item';\r\nimport {\r\n  Injectable,\r\n  TemplateRef,\r\n  ComponentFactoryResolver,\r\n  Injector,\r\n  Optional,\r\n  Type\r\n} from '@angular/core';\r\nimport { NgxPrinterComponent } from './ngx-printer.component';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { PrintServiceConfig } from './print-service-config';\r\n\r\nexport type Content<T> = string | HTMLElement | TemplateRef<T> | Type<T>;\r\n\r\n/**\r\n * Main print service\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NgxPrinterService {\r\n  private printWindowOpen = new BehaviorSubject<boolean>(false);\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  private _printItems = new BehaviorSubject<PrintItem[]>([]);\r\n  $printItems = this._printItems.asObservable();\r\n\r\n  private openNgxPrinter: HTMLElement;\r\n\r\n  /**\r\n   * Wait time to render before open print dialog in ms\r\n   * Default is 200\r\n   */\r\n  timeToWaitRender = 200;\r\n\r\n  /**\r\n   * Class used in component when printing to current window\r\n   */\r\n  renderClass = 'default';\r\n\r\n  /**\r\n   * Open new window to print or not\r\n   * Default is true\r\n   */\r\n  printOpenWindow = true;\r\n\r\n  /**\r\n   * Name of root component\r\n   * Default is app-root\r\n   */\r\n  appRootName = 'app-root';\r\n\r\n  /**\r\n   * Do not fire print event - just show preview\r\n   * Default is false\r\n   */\r\n  printPreviewOnly = false;\r\n\r\n  appRoot: HTMLElement;\r\n  appRootDislaySetting = '';\r\n\r\n  $printWindowOpen = this.printWindowOpen.asObservable();\r\n  eventadded = [];\r\n  markerPosition: ngxPrintMarkerPosition;\r\n\r\n\r\n  constructor(\r\n    @Optional() config: PrintServiceConfig,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector\r\n  ) {\r\n    this.setRootConfigOptions(config);\r\n  }\r\n\r\n  /**\r\n   * Set config from forRoot\r\n   * @param config\r\n   */\r\n  private setRootConfigOptions(config: PrintServiceConfig): void {\r\n    if (config) {\r\n      if (config.printOpenWindow) {\r\n        this.printOpenWindow = config.printOpenWindow;\r\n      }\r\n      if (config.timeToWaitRender) {\r\n        this.timeToWaitRender = config.timeToWaitRender;\r\n      }\r\n      if (config.renderClass) {\r\n        this.renderClass = config.renderClass;\r\n      }\r\n      if (config.appRootName) {\r\n        this.appRootName = config.appRootName;\r\n      }\r\n      if (config.markerPosition) {\r\n        this.markerPosition = config.markerPosition;\r\n      }\r\n      if (config.printPreviewOnly) {\r\n        this.printPreviewOnly = config.printPreviewOnly;\r\n      }\r\n    }\r\n  }\r\n\r\n  /***\r\n   * Print a div identified by its id\r\n   * @example\r\n   * this.printerService.printDiv('printDiv');\r\n   */\r\n  public printDiv(divID: string): void {\r\n    const divToPrint = document.getElementById(divID);\r\n\r\n    if (divToPrint) {\r\n      this.print(divToPrint, this.printOpenWindow);\r\n    } else {\r\n      console.log(`div with id ${divID} not found..`);\r\n    }\r\n  }\r\n\r\n  /***\r\n   * Print an Element identified by its className using getElementsByClassName\r\n   * Prints the first one found\r\n   */\r\n  public printByClassName(className: string): void {\r\n    const elementToPrint = document.getElementsByClassName(className);\r\n\r\n    if (elementToPrint && elementToPrint.length > 0) {\r\n      this.print(<HTMLScriptElement>elementToPrint[0], this.printOpenWindow);\r\n    } else {\r\n      console.log('element with id ${className} not found..');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Print Angular TemplateRef or a Component or String\r\n   * @param contentToPrint\r\n   * @example\r\n   * this.printerService.printAngular(this.PrintTemplateTpl);\r\n   */\r\n  public printAngular(contentToPrint: any, context?: any): void {\r\n    const nativeEl = this.createComponent(contentToPrint, null, context);\r\n\r\n    this.print(nativeEl.nativeElement, this.printOpenWindow);\r\n  }\r\n\r\n  /**\r\n   * Print single img\r\n   * @example\r\n   * this.printerService.printImg('assets/bratwurst.jpg');\r\n   */\r\n  public printImg(imgSrc: string): void {\r\n    const compRef = this.createComponent(null, imgSrc);\r\n    const openNewWindow = this.printOpenWindow;\r\n\r\n    compRef.instance.completed.subscribe(val => {\r\n      compRef.hostView.detectChanges();\r\n      console.log('completed:', val);\r\n      this.print(compRef.location.nativeElement, openNewWindow);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Print an native Element (HTML Element)\r\n   * @param nativeElement\r\n   * @example\r\n   * this.printerService.printHTMLElement(this.PrintComponent.nativeElement);\r\n   */\r\n  public printHTMLElement(nativeElement: HTMLElement): void {\r\n    this.print(nativeElement, this.printOpenWindow);\r\n  }\r\n\r\n  /**\r\n   * Create and render component\r\n   * @param contentToRender\r\n   */\r\n  private createComponent(contentToRender: any, imgSrc?: string, context?: any): any {\r\n    // this.viewContainerRef.clear();\r\n    const factory = this.resolver.resolveComponentFactory(NgxPrinterComponent);\r\n    let componentRef: any;\r\n\r\n    if (contentToRender) {\r\n      if (context === undefined) {\r\n        context = null;\r\n      }\r\n      const ngContent = this.resolveNgContent(contentToRender, context);\r\n      componentRef = factory.create(this.injector, ngContent); // this.viewContainerRef.createComponent(factory);\r\n    } else {\r\n      componentRef = factory.create(this.injector);\r\n    }\r\n    componentRef.instance.renderClass = this.renderClass;\r\n    if (imgSrc) {\r\n      componentRef.instance.imgSrc = imgSrc;\r\n      return componentRef;\r\n    }\r\n\r\n    componentRef.hostView.detectChanges();\r\n    return componentRef.location; // location is native element\r\n  }\r\n\r\n  /**\r\n   * Main print function\r\n   * @param printContent\r\n   */\r\n  private print(printContent: any, printOpenWindow: boolean): void {\r\n    if (printOpenWindow === true) {\r\n      const printContentClone = document.importNode(printContent, true); // printContent.cloneNode(true);\r\n      this.printInNewWindow(printContentClone);\r\n    }\r\n    if (printOpenWindow === false) {\r\n      const printContentClone = document.importNode(printContent, true); // printContent.cloneNode(true);\r\n      const nativeEl = this.createComponent(printContentClone).nativeElement;\r\n      this.openNgxPrinter = nativeEl;\r\n      document.body.appendChild(this.openNgxPrinter);\r\n      // window.scrollTo(0, 0);\r\n      this.getAppRoot();\r\n      if (this.appRoot) {\r\n        this.appRoot.style.display = 'none';\r\n      }\r\n\r\n      this.printCurrentWindow();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Print using a new window / tab\r\n   * @param divToPrint\r\n   */\r\n  private printInNewWindow(divToPrint: HTMLElement): void {\r\n    const printWindow = window.open('', 'PRINT');\r\n    const title = document.title;\r\n\r\n    printWindow.document.write(\r\n      '<HTML><HEAD><TITLE>' + title + '</TITLE></HEAD><BODY></BODY></HTML>'\r\n    );\r\n    // printWindow.document.write(document.documentElement.innerHTML);\r\n\r\n    const printWindowDoc = printWindow.document;\r\n    this.copyCss(printWindowDoc);\r\n    printWindowDoc.body.style.margin = '0 0';\r\n    printWindowDoc.body.appendChild(divToPrint);\r\n    printWindow.document.close();\r\n    // printWindowDoc.body.innerHTML = divToPrint.outerHTML;\r\n    setTimeout(\r\n      () => this.printTabWindow(printWindow, printWindowDoc),\r\n      this.timeToWaitRender\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Copy Css links to new page\r\n   * @param printWindow \r\n   */\r\n  private copyCss(printWindowDoc: Document) {\r\n\r\n    const links = document.querySelectorAll('link');\r\n    const styles = document.querySelectorAll('style');\r\n    const targetHead = printWindowDoc.getElementsByTagName('head')[0];\r\n\r\n    links.forEach(link => {\r\n      targetHead.appendChild(document.importNode(link, true));\r\n    });\r\n\r\n    styles.forEach(style => {\r\n      targetHead.appendChild(document.importNode(style, true));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Print window in new tab\r\n   */\r\n  private printTabWindow(printWindow: Window, printWindowDoc: Document): void {\r\n    if (this.printPreviewOnly) {\r\n      return;\r\n    }\r\n    this.registerPrintEvent(printWindow, true);\r\n    this.printWindowOpen.next(true);\r\n    printWindow.focus(); // necessary for IE >= 10*/\r\n    if (printWindowDoc.execCommand('print') === false) {\r\n      printWindow.print();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Print the whole current window\r\n   */\r\n  public printCurrentWindow(): void {\r\n    if (this.printPreviewOnly) {\r\n      return;\r\n    }\r\n    this.registerPrintEvent(window, false);\r\n    setTimeout(() => {\r\n      this.printWindowOpen.next(true);\r\n      if (document.execCommand('print') === false) {\r\n        window.print();\r\n      }\r\n    }, this.timeToWaitRender);\r\n  }\r\n\r\n  /**\r\n   * Listen to print event of window\r\n   * @param printWindow\r\n   */\r\n  private registerPrintEvent(printWindow: Window, printWithOpenInNewWindow: boolean) {\r\n    const that = this;\r\n    printWindow.focus(); // necessary for IE >= 10*/\r\n\r\n    if (that.eventadded[printWindow.name]) {\r\n      return;\r\n    }\r\n    printWindow.addEventListener('afterprint', () => {\r\n      this.eventadded[printWindow.name] = true;\r\n      // console.log('afterprint');\r\n      if (printWithOpenInNewWindow) {\r\n        that.eventadded[printWindow.name] = false;\r\n      }\r\n      that.cleanUp(printWindow, printWithOpenInNewWindow);\r\n      that.printWindowOpen.next(false);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Close tab or clean up dom\r\n   * @internal\r\n   */\r\n  private cleanUp(printWindow: Window, printOpenWindow: boolean): void {\r\n    if (printOpenWindow === true) {\r\n      console.log('close print window');\r\n      printWindow.close();\r\n      setTimeout(() => {\r\n        printWindow.close();\r\n      }, 20);\r\n    }\r\n    if (printOpenWindow === false) {\r\n        if (!this.openNgxPrinter) {\r\n          return;\r\n        }\r\n        if (document.body.getElementsByTagName('ngx-printer').length === 0) {\r\n          return;\r\n        }\r\n       \r\n        if (this.appRoot) {\r\n          if (this.appRootDislaySetting !== '') {\r\n            this.appRoot.style.display = this.appRootDislaySetting;\r\n          } else {\r\n            this.appRoot.style.display = '';\r\n          }\r\n        }\r\n\r\n        document.body.removeChild(this.openNgxPrinter);\r\n        this.openNgxPrinter = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create node or angular component\r\n   * @param content\r\n   * @internal\r\n   */\r\n  private resolveNgContent<T>(content: Content<T>, context: any): any {\r\n    if (typeof content === 'string') {\r\n      const element = document.createTextNode(content);\r\n      return [[element]];\r\n    }\r\n\r\n    if (content instanceof TemplateRef) {\r\n      const viewRef = content.createEmbeddedView(context);\r\n      viewRef.detectChanges();\r\n      return [viewRef.rootNodes];\r\n    }\r\n\r\n    if (content instanceof HTMLElement) {\r\n      return [[content]];\r\n    }\r\n\r\n    /** Otherwise it's a component */\r\n    const factory = this.resolver.resolveComponentFactory(content);\r\n\r\n    const componentRef = factory.create(this.injector);\r\n    componentRef.changeDetectorRef.detectChanges();\r\n    return [[componentRef.location.nativeElement]];\r\n  }\r\n\r\n  /**\r\n   * Search for Angular App Root\r\n   * @internal\r\n   */\r\n  private getAppRoot(): void {\r\n    const appRoot = document.body.getElementsByTagName(this.appRootName);\r\n    if (appRoot.length === 0) {\r\n      return null;\r\n    } else {\r\n      this.appRoot = <HTMLElement> appRoot[0];\r\n      this.appRootDislaySetting = this.appRoot.style.display;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a new item to print\r\n   * Used by directive\r\n   * @internal\r\n   * @param newPrintItem  HTML id\r\n   */\r\n  public addPrintItem(newPrintItem: PrintItem): void {\r\n    const tmpItems = this._printItems.getValue();\r\n    tmpItems.push(newPrintItem);\r\n    this._printItems.next(tmpItems);\r\n  }\r\n\r\n  /**\r\n   * Delete a print item from service\r\n   * Used by directive\r\n   * @internal\r\n   * @param idOfItemToRemove\r\n   */\r\n  public removePrintItem(idOfItemToRemove: string): void {\r\n    const tmpItems = this._printItems.getValue();\r\n    const newIitems = tmpItems.filter(item => item.id !== idOfItemToRemove);\r\n    this._printItems.next(newIitems);\r\n  }\r\n\r\n    /**\r\n   * Gets a single print item from service\r\n   * Used by directive\r\n   * @internal\r\n   * @param idOfItemToFind\r\n   */\r\n  public getPrintItem(idOfItemToRemove: string): PrintItem {\r\n    const tmpItems = this._printItems.getValue();\r\n    const foundItem = tmpItems.find(item => item.id === idOfItemToRemove);\r\n    return foundItem;\r\n  }\r\n\r\n\r\n  /**\r\n   * Print a print Item\r\n   * @param printItemToPrint\r\n   */\r\n  public printPrintItem(printItemToPrint: PrintItem): void {\r\n    this.printHTMLElement(printItemToPrint.nativeElement);\r\n  }\r\n\r\n  /**\r\n   * Print al list of print Items one after the other\r\n   * @param printItemToPrint\r\n   */\r\n  public printPrintItems(printItemsToPrint: PrintItem[], className?: string): void {\r\n    const newDiv = <HTMLDivElement>document.createElement('div');\r\n\r\n    if (className) {\r\n      newDiv.classList.add(className);\r\n    } else {\r\n      newDiv.style.display = 'flex';\r\n      newDiv.style.flexDirection = 'column';\r\n    }\r\n\r\n    printItemsToPrint.forEach(element => {\r\n      newDiv.appendChild(element.nativeElement.cloneNode(true));\r\n    });\r\n\r\n\r\n    this.printHTMLElement(newDiv);\r\n  }\r\n}\r\n","\r\n/**\r\n * A class to store an item which can be printed\r\n */\r\nexport class PrintItem {\r\n  /**\r\n   * HTML id of anchor\r\n   */\r\n  id: string;\r\n\r\n  /**\r\n   * Optional name\r\n   */\r\n  printDisplayName: string;\r\n\r\n  /**\r\n   * HTML Element\r\n   */\r\n  nativeElement: HTMLElement;\r\n\r\n  constructor() {}\r\n}\r\n","import { Directive, ElementRef, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { NgxPrinterService } from './ngx-printer.service';\r\nimport { PrintItem } from './print-item';\r\n\r\n/**\r\n * A directive to mark and store an HTML-Element as an item which\r\n * can be printed\r\n * An id has to be set\r\n */\r\n@Directive({\r\n  selector: '[ngxPrintItem]'\r\n})\r\nexport class PrintItemDirective implements OnInit, OnDestroy {\r\n\r\n  /**\r\n   * Optional name to be shown in an component\r\n   */\r\n  @Input()\r\n  printName: string;\r\n\r\n  constructor(private el: ElementRef, private printerService: NgxPrinterService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.el.nativeElement.id) {\r\n      const tmpPrintItem = new PrintItem();\r\n      tmpPrintItem.id = this.el.nativeElement.id;\r\n      tmpPrintItem.nativeElement = this.el.nativeElement;\r\n\r\n      this.printerService.addPrintItem(tmpPrintItem);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.el.nativeElement.id) {\r\n      this.printerService.removePrintItem( this.el.nativeElement.id);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Directive, ElementRef, Input, OnInit } from '@angular/core';\r\nimport { NgxPrinterService } from './ngx-printer.service';\r\nimport { PrintItem } from './print-item';\r\n\r\n/**\r\n * Directly add function to a button to print an item\r\n */\r\n@Directive({\r\n  selector: '[ngxPrintItemButton]'\r\n})\r\nexport class PrintItemButtonDirective implements OnInit {\r\n\r\n  /**\r\n   * Id of print item to be printed\r\n   */\r\n  @Input()\r\n  printItemId = '';\r\n\r\n  /**\r\n   * html id of div to be printed\r\n   */\r\n  @Input()\r\n  divID = '';\r\n\r\n  /**\r\n   * print item by class name\r\n   */\r\n  @Input()\r\n  className = '';\r\n\r\n  /**\r\n   * print current window\r\n   */\r\n  @Input()\r\n  printWindow = 'false';\r\n\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private printerService: NgxPrinterService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    if (this.el.nativeElement && this.checkInputs()) {\r\n        this.el.nativeElement.addEventListener('click', () => {\r\n        if (this.printItemId !== '') {\r\n          this.prinPrintItem();\r\n        }\r\n        if (this.divID !== '') {\r\n          this.printerService.printDiv(this.divID);\r\n        }\r\n        if (this.className !== '') {\r\n          this.printerService.printByClassName(this.className);\r\n        }\r\n        if (this.printWindow !== 'false') {\r\n          this.printerService.printCurrentWindow();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if at least one property is set\r\n   */\r\n  private checkInputs() {\r\n    const check = !(this.printWindow === 'false' && this.printItemId === '' && this.divID === '' && this.className === '');\r\n    return check;\r\n  }\r\n\r\n  /**\r\n   * print item from print items\r\n   */\r\n  private prinPrintItem() {\r\n    const itemToPrint = this.printerService.getPrintItem(this.printItemId);\r\n    if (itemToPrint) {\r\n      this.printerService.printPrintItem(itemToPrint);\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  Renderer2,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { NgxPrinterService } from './ngx-printer.service';\r\nimport { ngxPrintMarkerPosition } from './ngx-print-marker-position.enum';\r\n\r\n\r\n/**\r\n * Mark an div as printable and provide direct print function\r\n */\r\n@Directive({\r\n  selector: '[ngxPrintItemMarker]',\r\n})\r\nexport class PrintItemMarkerDirective implements OnInit {\r\n  @Input()\r\n  customClass = '';\r\n\r\n  @Input()\r\n  directPrint = false;\r\n\r\n  @Input()\r\n  imgPosition = ngxPrintMarkerPosition.Topleft;\r\n\r\n  /**\r\n   * Data for an svg image used as background url\r\n   * @example\r\n   * backgroundImage = 'data:image/svg+xml;base64,PD9....'\r\n   *\r\n   */\r\n  @Input()\r\n  backgroundImage =\r\n    'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNy4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTAgNTAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUwIDUwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGQ9Ik0zOS4zODcsMjEuNDcxSDMyLjI5VjExLjE5OWMwLTAuNTUzLTAuNDQ3LTEtMS0xSDE3LjQ4NGMtMC41NTMsMC0xLDAuNDQ3LTEsMXYxMC4yNzFIOS4zODdjLTAuNTUzLDAtMSwwLjQ0Ny0xLDFWMzUuNDUNCgljMCwwLjU1MywwLjQ0NywxLDEsMWg2Ljg5NHYzLjU2NWMwLDAuNTUzLDAuNDQ3LDEsMSwxaDEzLjgwNmMwLjU1MywwLDEtMC40NDcsMS0xVjM2LjQ1aDcuMzAxYzAuNTUzLDAsMS0wLjQ0NywxLTFWMjIuNDcxDQoJQzQwLjM4NywyMS45MTgsMzkuOTM5LDIxLjQ3MSwzOS4zODcsMjEuNDcxeiBNMTguNDg0LDEyLjE5OUgzMC4yOXY5LjI3MUgxOC40ODRWMTIuMTk5eiBNMzAuMDg2LDM5LjAxNkgxOC4yOHYtNi4zMjloMTEuODA2VjM5LjAxNg0KCXogTTM4LjM4NywzNC40NWgtNi4zMDF2LTIuNzY0YzAtMC41NTMtMC40NDctMS0xLTFIMTcuMjhjLTAuNTUzLDAtMSwwLjQ0Ny0xLDF2Mi43NjRoLTUuODk0VjIzLjQ3MWg2Ljg5NA0KCWMwLjA2OCwwLjAxNCwwLjEzMSwwLjA0MSwwLjIwMywwLjA0MUgzMS4yOWMwLjA3MiwwLDAuMTM2LTAuMDI3LDAuMjAzLTAuMDQxaDYuODkzVjM0LjQ1eiIvPg0KPC9zdmc+DQo=';\r\n\r\n  imgMainStyles = {\r\n    'background-color': '#c3c3b6',\r\n    height: '16px',\r\n    width: '16px',\r\n    position: 'absolute',\r\n    cursor: 'pointer'\r\n  };\r\n\r\n  imgPositionTopLeft = {\r\n    left: '1px',\r\n    top: '1px',\r\n  };\r\n\r\n  imgPositionTopRight = {\r\n    right: '1px',\r\n    top: '1px',\r\n  };\r\n\r\n  imgPositionBottomLeft = {\r\n    left: '1px',\r\n    bottom: '1px',\r\n  };\r\n\r\n  imgPositionBottomRight = {\r\n    right: '1px',\r\n    bottom: '1px',\r\n  };\r\n\r\n  /**\r\n   * Event fired when marker clicked\r\n   * @emits\r\n   */\r\n  @Output()\r\n  printClicked = new EventEmitter<any>();\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer2: Renderer2,\r\n    private printerService: NgxPrinterService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    const newIndicator = document.createElement('div');\r\n    this.imgPosition = this.printerService.markerPosition;\r\n\r\n    this.addIndicatorDiv(this.el, newIndicator);\r\n\r\n    newIndicator.addEventListener('click', () => {\r\n      if (this.directPrint) {\r\n        const elementToPrint = this.el.nativeElement.getElementsByClassName(\r\n          'print_indicator'\r\n        );\r\n\r\n        if (elementToPrint && elementToPrint.length > 0) {\r\n          this.renderer2.setStyle(elementToPrint[0], 'visibility', 'hidden');\r\n          this.printerService.printHTMLElement(this.el.nativeElement);\r\n          this.renderer2.setStyle(elementToPrint[0], 'visibility', 'visible');\r\n        } else {\r\n          console.log('element with indicator class not found..');\r\n        }\r\n      }\r\n      this.printClicked.emit(true);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Change and add div with Indicator\r\n   * @param el\r\n   * @param newIndicator\r\n   */\r\n  private addIndicatorDiv(el: ElementRef<any>, newIndicator: HTMLDivElement) {\r\n    const natElement = el.nativeElement;\r\n    this.renderer2.addClass(newIndicator, 'print_indicator');\r\n    this.renderer2.setStyle(natElement, 'position', 'relative');\r\n    this.renderer2.appendChild(el.nativeElement, newIndicator);\r\n    if (this.customClass === '') {\r\n      this.setCss(newIndicator);\r\n    } else {\r\n      this.renderer2.addClass(newIndicator, this.customClass);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the default css properties\r\n   * @param newIndicator\r\n   */\r\n  private setCss(newIndicator: HTMLDivElement) {\r\n    Object.keys(this.imgMainStyles).forEach((element) => {\r\n      newIndicator.style.setProperty(`${element}`, this.imgMainStyles[element]);\r\n    });\r\n\r\n    this.setPosition(newIndicator);\r\n\r\n    const imgUrl = 'url(' + this.backgroundImage + ')';\r\n    newIndicator.style.setProperty(`background-image`, imgUrl);\r\n  }\r\n\r\n  /**\r\n   * Set image position\r\n   * @internal\r\n   * @param newIndicator\r\n   */\r\n  private setPosition(newIndicator: HTMLDivElement) {\r\n    switch (this.imgPosition) {\r\n      case ngxPrintMarkerPosition.Topleft: {\r\n        Object.keys(this.imgPositionTopLeft).forEach((element) => {\r\n          newIndicator.style.setProperty(\r\n            `${element}`,\r\n            this.imgPositionTopLeft[element]\r\n          );\r\n        });\r\n        break;\r\n      }\r\n      case ngxPrintMarkerPosition.TopRight: {\r\n        Object.keys(this.imgPositionTopRight).forEach((element) => {\r\n          newIndicator.style.setProperty(\r\n            `${element}`,\r\n            this.imgPositionTopRight[element]\r\n          );\r\n        });\r\n        break;\r\n      }\r\n      case ngxPrintMarkerPosition.BottomLeft: {\r\n        Object.keys(this.imgPositionBottomLeft).forEach((element) => {\r\n          newIndicator.style.setProperty(\r\n            `${element}`,\r\n            this.imgPositionBottomLeft[element]\r\n          );\r\n        });\r\n        break;\r\n      }\r\n      case ngxPrintMarkerPosition.BottomRight: {\r\n        Object.keys(this.imgPositionBottomRight).forEach((element) => {\r\n          newIndicator.style.setProperty(\r\n            `${element}`,\r\n            this.imgPositionBottomRight[element]\r\n          );\r\n        });\r\n        break;\r\n      }\r\n      default: {\r\n        Object.keys(this.imgPositionTopLeft).forEach((element) => {\r\n          newIndicator.style.setProperty(\r\n            `${element}`,\r\n            this.imgPositionTopLeft[element]\r\n          );\r\n        });\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { NgxPrinterComponent } from './ngx-printer.component';\r\nimport { PrintServiceConfig } from './print-service-config';\r\nimport { PrintItemDirective } from './print-item.directive';\r\nimport { PrintItemButtonDirective } from './print-item-button.directive';\r\nimport { PrintItemMarkerDirective } from './print-item-marker.directive';\r\n\r\n@NgModule({\r\n  declarations: [NgxPrinterComponent, PrintItemDirective, PrintItemButtonDirective, PrintItemMarkerDirective],\r\n  imports: [],\r\n  exports: [NgxPrinterComponent, PrintItemDirective, PrintItemButtonDirective, PrintItemMarkerDirective],\r\n  entryComponents: [NgxPrinterComponent]\r\n})\r\nexport class NgxPrinterModule {\r\n  static forRoot(config: PrintServiceConfig): ModuleWithProviders<NgxPrinterModule> {\r\n    return {\r\n      ngModule: NgxPrinterModule,\r\n      providers: [{ provide: PrintServiceConfig, useValue: config }]\r\n    };\r\n  }\r\n}\r\n"]}