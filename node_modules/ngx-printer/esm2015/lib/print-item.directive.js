import { Directive, ElementRef, Input } from '@angular/core';
import { NgxPrinterService } from './ngx-printer.service';
import { PrintItem } from './print-item';
/**
 * A directive to mark and store an HTML-Element as an item which
 * can be printed
 * An id has to be set
 */
export class PrintItemDirective {
    constructor(el, printerService) {
        this.el = el;
        this.printerService = printerService;
    }
    ngOnInit() {
        if (this.el.nativeElement.id) {
            const tmpPrintItem = new PrintItem();
            tmpPrintItem.id = this.el.nativeElement.id;
            tmpPrintItem.nativeElement = this.el.nativeElement;
            this.printerService.addPrintItem(tmpPrintItem);
        }
    }
    ngOnDestroy() {
        if (this.el.nativeElement.id) {
            this.printerService.removePrintItem(this.el.nativeElement.id);
        }
    }
}
PrintItemDirective.decorators = [
    { type: Directive, args: [{
                selector: '[ngxPrintItem]'
            },] }
];
PrintItemDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: NgxPrinterService }
];
PrintItemDirective.propDecorators = {
    printName: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbnQtaXRlbS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtcHJpbnRlci9zcmMvbGliL3ByaW50LWl0ZW0uZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFxQixLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDaEYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV6Qzs7OztHQUlHO0FBSUgsTUFBTSxPQUFPLGtCQUFrQjtJQVE3QixZQUFvQixFQUFjLEVBQVUsY0FBaUM7UUFBekQsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQUFVLG1CQUFjLEdBQWQsY0FBYyxDQUFtQjtJQUM3RSxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFO1lBQzVCLE1BQU0sWUFBWSxHQUFHLElBQUksU0FBUyxFQUFFLENBQUM7WUFDckMsWUFBWSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7WUFDM0MsWUFBWSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQztZQUVuRCxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUNoRDtJQUNILENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDaEU7SUFDSCxDQUFDOzs7WUE1QkYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxnQkFBZ0I7YUFDM0I7OztZQVhtQixVQUFVO1lBQ3JCLGlCQUFpQjs7O3dCQWdCdkIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgT25Jbml0LCBPbkRlc3Ryb3ksIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5neFByaW50ZXJTZXJ2aWNlIH0gZnJvbSAnLi9uZ3gtcHJpbnRlci5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJpbnRJdGVtIH0gZnJvbSAnLi9wcmludC1pdGVtJztcclxuXHJcbi8qKlxyXG4gKiBBIGRpcmVjdGl2ZSB0byBtYXJrIGFuZCBzdG9yZSBhbiBIVE1MLUVsZW1lbnQgYXMgYW4gaXRlbSB3aGljaFxyXG4gKiBjYW4gYmUgcHJpbnRlZFxyXG4gKiBBbiBpZCBoYXMgdG8gYmUgc2V0XHJcbiAqL1xyXG5ARGlyZWN0aXZlKHtcclxuICBzZWxlY3RvcjogJ1tuZ3hQcmludEl0ZW1dJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgUHJpbnRJdGVtRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG5cclxuICAvKipcclxuICAgKiBPcHRpb25hbCBuYW1lIHRvIGJlIHNob3duIGluIGFuIGNvbXBvbmVudFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHJpbnROYW1lOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsIHByaXZhdGUgcHJpbnRlclNlcnZpY2U6IE5neFByaW50ZXJTZXJ2aWNlKSB7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuaWQpIHtcclxuICAgICAgY29uc3QgdG1wUHJpbnRJdGVtID0gbmV3IFByaW50SXRlbSgpO1xyXG4gICAgICB0bXBQcmludEl0ZW0uaWQgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuaWQ7XHJcbiAgICAgIHRtcFByaW50SXRlbS5uYXRpdmVFbGVtZW50ID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50O1xyXG5cclxuICAgICAgdGhpcy5wcmludGVyU2VydmljZS5hZGRQcmludEl0ZW0odG1wUHJpbnRJdGVtKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgaWYgKHRoaXMuZWwubmF0aXZlRWxlbWVudC5pZCkge1xyXG4gICAgICB0aGlzLnByaW50ZXJTZXJ2aWNlLnJlbW92ZVByaW50SXRlbSggdGhpcy5lbC5uYXRpdmVFbGVtZW50LmlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiJdfQ==