"use strict";
var core_1 = require('@angular/core');
var rutHelpers = require('rut-helpers');
var ɵngcc0 = require('@angular/core');
var RutDirective = (function () {
    function RutDirective() {
        this.rutChange = new core_1.EventEmitter();
    }
    RutDirective.prototype.onFocus = function (ev) {
        var htmlInputElement = ev.target;
        htmlInputElement.value = rutHelpers.rutClean(htmlInputElement.value);
    };
    RutDirective.prototype.onBlur = function (ev) {
        var htmlInputElement = ev.target;
        htmlInputElement.value = rutHelpers.rutFormat(htmlInputElement.value) || '';
    };
    RutDirective.prototype.onChange = function (ev) {
        var htmlInputElement = ev.target;
        this.rutChange.emit(rutHelpers.rutClean(htmlInputElement.value));
    };
    /** @nocollapse */
    RutDirective.ctorParameters = function () { return []; };
    RutDirective.propDecorators = {
        'rutChange': [{ type: core_1.Output },],
    };
RutDirective.ɵfac = function RutDirective_Factory(t) { return new (t || RutDirective)(); };
RutDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: RutDirective, selectors: [["", "formatRut", ""]], hostBindings: function RutDirective_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("blur", function RutDirective_blur_HostBindingHandler($event) { return ctx.onBlur($event); })("focus", function RutDirective_focus_HostBindingHandler($event) { return ctx.onFocus($event); })("input", function RutDirective_input_HostBindingHandler($event) { return ctx.onChange($event); });
    } }, outputs: { rutChange: "rutChange" } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(RutDirective, [{
        type: core_1.Directive,
        args: [{
                selector: '[formatRut]',
                host: {
                    '(blur)': 'onBlur($event)',
                    '(focus)': 'onFocus($event)',
                    '(input)': 'onChange($event)'
                }
            }]
    }], function () { return []; }, { rutChange: [{
            type: core_1.Output
        }] }); })();
    return RutDirective;
}());
exports.RutDirective = RutDirective;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnV0LmRpcmVjdGl2ZS5qcyIsInNvdXJjZXMiOlsicnV0LmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFVTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFNO0FBQ047QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIHJ1dEhlbHBlcnMgPSByZXF1aXJlKCdydXQtaGVscGVycycpO1xudmFyIFJ1dERpcmVjdGl2ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUnV0RGlyZWN0aXZlKCkge1xuICAgICAgICB0aGlzLnJ1dENoYW5nZSA9IG5ldyBjb3JlXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIFJ1dERpcmVjdGl2ZS5wcm90b3R5cGUub25Gb2N1cyA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICB2YXIgaHRtbElucHV0RWxlbWVudCA9IGV2LnRhcmdldDtcbiAgICAgICAgaHRtbElucHV0RWxlbWVudC52YWx1ZSA9IHJ1dEhlbHBlcnMucnV0Q2xlYW4oaHRtbElucHV0RWxlbWVudC52YWx1ZSk7XG4gICAgfTtcbiAgICBSdXREaXJlY3RpdmUucHJvdG90eXBlLm9uQmx1ciA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICB2YXIgaHRtbElucHV0RWxlbWVudCA9IGV2LnRhcmdldDtcbiAgICAgICAgaHRtbElucHV0RWxlbWVudC52YWx1ZSA9IHJ1dEhlbHBlcnMucnV0Rm9ybWF0KGh0bWxJbnB1dEVsZW1lbnQudmFsdWUpIHx8ICcnO1xuICAgIH07XG4gICAgUnV0RGlyZWN0aXZlLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICB2YXIgaHRtbElucHV0RWxlbWVudCA9IGV2LnRhcmdldDtcbiAgICAgICAgdGhpcy5ydXRDaGFuZ2UuZW1pdChydXRIZWxwZXJzLnJ1dENsZWFuKGh0bWxJbnB1dEVsZW1lbnQudmFsdWUpKTtcbiAgICB9O1xuICAgIFJ1dERpcmVjdGl2ZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW2Zvcm1hdFJ1dF0nLFxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGJsdXIpJzogJ29uQmx1cigkZXZlbnQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICcoZm9jdXMpJzogJ29uRm9jdXMoJGV2ZW50KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKGlucHV0KSc6ICdvbkNoYW5nZSgkZXZlbnQpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIFJ1dERpcmVjdGl2ZS5jdG9yUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9O1xuICAgIFJ1dERpcmVjdGl2ZS5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAgICAgJ3J1dENoYW5nZSc6IFt7IHR5cGU6IGNvcmVfMS5PdXRwdXQgfSxdLFxuICAgIH07XG4gICAgcmV0dXJuIFJ1dERpcmVjdGl2ZTtcbn0oKSk7XG5leHBvcnRzLlJ1dERpcmVjdGl2ZSA9IFJ1dERpcmVjdGl2ZTtcbiJdfQ==